{"version":3,"file":"main.js","mappings":"yBAKA,IAAMA,EAAOC,SAASC,cAAc,sBAa9BC,EAAU,SAAAC,GAAI,OAAIC,aAAaF,QAAQC,EAAzB,EAQpB,SAASE,IAAW,MACbC,EAAON,SAASC,cAAc,QAE9BM,EAAK,UAAGL,EAAQ,gBAAX,QAAuB,QAElCI,EAAKE,QAAQD,MAAQA,CACrB,CA8CDR,EAAKU,iBAAiB,UA5CtB,SAAiBC,GAGhB,IA9BwBC,EA4BxBD,EAAEE,iBA5BsBD,EA8BGD,EAAEG,OA9BLF,SAAeG,MAAMC,KAAKJ,GAAUK,KAAI,YAAoC,IAAjCb,EAAiC,EAAjCA,KAAMc,EAA2B,EAA3BA,KAAMC,EAAqB,EAArBA,MAAOC,EAAc,EAAdA,QAEtF,QAAa,UAATF,IAAqBE,IAElB,CAAEhB,KAAAA,EAAMe,MAAAA,EACf,IAAEE,QAAO,SAACC,GAAD,QAAYA,EAAKlB,IAAjB,IASJmB,SAAQ,SAAAD,GAPd,MAAoBlB,EAAMe,EAANf,GAApB,EAQWkB,GARSlB,KAAMe,EAAS,EAATA,MACzBd,aAAamB,QAAQpB,EAAMe,EAQ1B,IAkBDb,GACA,IAqCDL,SAASS,iBAAiB,oBAT1B,WACC,IAAMe,EA1BQ,CAAC,eAAgB,aAAc,gBAAiB,gBAAiB,gBAAiB,SAEnFC,QAAO,SAACD,EAAMrB,GAC1B,IAAMkB,EAAO,CAAElB,KAAAA,EAAMe,MAAOhB,EAAQC,IAIpC,OAFAqB,EAAKE,KAAKL,GAEHG,CACP,GAAE,IAoBHnB,IAjBD,SAAkBmB,GACjBA,EAAKF,SAAQ,YAAqB,IAAlBnB,EAAkB,EAAlBA,KAAMe,EAAY,EAAZA,MAEfG,EAAgB,UAATlB,EAAmBH,SAASC,cAAT,mBAAmCiB,EAAnC,MAA+ClB,SAASC,cAAT,kBAAkCE,EAAlC,MAE7D,UAAdkB,EAAKJ,KAERI,EAAKF,SAAU,EAEfE,EAAKH,MAAQA,CAEd,GACD,CAMAS,CAASH,EACT,IAcDxB,SAAS4B,iBAAiB,0BAA0BN,SAAQ,SAAUO,GAErE,IAAMC,EAAcD,EAAgB5B,cAAc,8BAC5C8B,EAAeF,EAAgB5B,cAAc,+BAC7C+B,EAAgBH,EAAgBD,iBAAiB,+BACjDK,EAAgBJ,EAAgB5B,cAAc,4BAIpD,SAASiC,EAAYb,GACpBA,EAAKc,UAAUC,OAAO,SACtB,CAED,SAASC,EAAYhB,GACpBA,EAAKc,UAAUG,OAAO,SACtB,CAED,SAASC,IACRF,EAAYP,GACZO,EAAYN,GACZM,EAAYJ,EACZ,CAEDH,EAAYrB,iBAAiB,SAAS,WACrCyB,EAAYH,GACZG,EAAYD,GACZO,KAAKL,UAAUC,OAAO,SACtB,IAEDJ,EAAcV,SAAQ,SAAUmB,GAC/BA,EAAShC,iBAAiB,SAAS,SAAUC,GAC5CA,EAAEgC,kBACFZ,EAAYa,UAAYH,KAAKG,UAC7BJ,GAEA,GACD,IAEDvC,SAASS,iBAAiB,SAAS,SAAUC,GACxCA,EAAEG,SAAWiB,GAChBS,GAED,IAEDvC,SAASS,iBAAiB,WAAW,SAAUC,GAChC,QAAVA,EAAEkC,KAA2B,WAAVlC,EAAEkC,KACxBL,GAED,GACD,G","sources":["webpack://webpack-demo/./src/index.js"],"sourcesContent":["import { getAttributeValue } from 'domutils';\r\nimport './styles/index.scss';\r\n\r\n\r\n//switch theme\r\nconst form = document.querySelector('.preferences__form');\r\n\r\nconst serializeForm = ({ elements }) => Array.from(elements).map(({ name, type, value, checked }) => {\r\n\r\n\tif (type === 'radio' && !checked) return false;\r\n\r\n\treturn { name, value };\r\n}).filter((item) => !!item.name);\r\n\r\nfunction saveItem({ name, value }) {\r\n\tlocalStorage.setItem(name, value);\r\n}\r\n\r\nconst getItem = name => localStorage.getItem(name);\r\n\r\nfunction saveData(data) {\r\n\tdata.forEach(item => {\r\n\t\tsaveItem(item);\r\n\t});\r\n}\r\n\r\nfunction setTheme() {\r\n\tconst html = document.querySelector('html');\r\n\r\n\tconst theme = getItem('theme') ?? 'light';\r\n\r\n\thtml.dataset.theme = theme;\r\n}\r\n\r\nfunction setData(e) {\r\n\te.preventDefault();\r\n\r\n\tconst data = serializeForm(e.target);\r\n\r\n\tsaveData(data);\r\n\r\n\tsetTheme();\r\n}\r\n\r\nfunction getData() {\r\n\tconst names = ['companyTitle', 'indentSize', 'personalCode1', 'personalCode2', 'personalCode3', 'theme'];\r\n\r\n\treturn names.reduce((data, name) => {\r\n\t\tconst item = { name, value: getItem(name) };\r\n\r\n\t\tdata.push(item);\r\n\r\n\t\treturn data;\r\n\t}, []);\r\n}\r\n\r\nfunction fillForm(data) {\r\n\tdata.forEach(({ name, value }) => {\r\n\r\n\t\tconst item = name === 'theme' ? document.querySelector(`[value = ${value}]`) : document.querySelector(`[name = ${name}]`);\r\n\r\n\t\tif (item.type === 'radio') {\r\n\r\n\t\t\titem.checked = true;\r\n\t\t} else {\r\n\t\t\titem.value = value;\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction load() {\r\n\tconst data = getData();\r\n\r\n\tsetTheme();\r\n\tfillForm(data);\r\n}\r\n\r\n\r\nform.addEventListener('submit', setData);\r\ndocument.addEventListener('DOMContentLoaded', load);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//custom dropDown\r\n\r\ndocument.querySelectorAll('.preferences__dropdown').forEach(function (dropDownWrapper) {\r\n\r\n\tconst dropDownBtn = dropDownWrapper.querySelector('.preferences__dropdown-btn');\r\n\tconst dropDownList = dropDownWrapper.querySelector('.preferences__dropdown-list');\r\n\tconst dropDownItems = dropDownWrapper.querySelectorAll('.preferences__dropdown-item');\r\n\tconst dropDownArrow = dropDownWrapper.querySelector('.preferences__form-arrow');\r\n\r\n\r\n\r\n\tfunction toggleClass(item) {\r\n\t\titem.classList.toggle('active');\r\n\t}\r\n\r\n\tfunction removeClass(item) {\r\n\t\titem.classList.remove('active');\r\n\t}\r\n\r\n\tfunction removeClassColl() {\r\n\t\tremoveClass(dropDownBtn);\r\n\t\tremoveClass(dropDownList);\r\n\t\tremoveClass(dropDownArrow);\r\n\t}\r\n\r\n\tdropDownBtn.addEventListener('click', function () {\r\n\t\ttoggleClass(dropDownList);\r\n\t\ttoggleClass(dropDownArrow);\r\n\t\tthis.classList.toggle('active');\r\n\t});\r\n\r\n\tdropDownItems.forEach(function (itemList) {\r\n\t\titemList.addEventListener('click', function (e) {\r\n\t\t\te.stopPropagation();\r\n\t\t\tdropDownBtn.innerText = this.innerText;\r\n\t\t\tremoveClassColl();\r\n\r\n\t\t});\r\n\t});\r\n\r\n\tdocument.addEventListener('click', function (e) {\r\n\t\tif (e.target !== dropDownBtn) {\r\n\t\t\tremoveClassColl();\r\n\t\t}\r\n\t});\r\n\r\n\tdocument.addEventListener('keydown', function (e) {\r\n\t\tif (e.key === 'Tab' || e.key === 'Escape') {\r\n\t\t\tremoveClassColl();\r\n\t\t}\r\n\t});\r\n});"],"names":["form","document","querySelector","getItem","name","localStorage","setTheme","html","theme","dataset","addEventListener","e","elements","preventDefault","target","Array","from","map","type","value","checked","filter","item","forEach","setItem","data","reduce","push","fillForm","querySelectorAll","dropDownWrapper","dropDownBtn","dropDownList","dropDownItems","dropDownArrow","toggleClass","classList","toggle","removeClass","remove","removeClassColl","this","itemList","stopPropagation","innerText","key"],"sourceRoot":""}