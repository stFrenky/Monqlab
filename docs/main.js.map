{"version":3,"file":"main.js","mappings":"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","sources":["webpack://webpack-demo/./src/index.js"],"sourcesContent":["import { getAttributeValue } from 'domutils';\r\nimport './styles/index.scss';\r\n\r\n\r\n//switch theme\r\nconst form = document.querySelector('.preferences__form');\r\n\r\nconst serializeForm = ({ elements }) => Array.from(elements).map(({ name, type, value, checked }) => {\r\n\r\n\tif (type === 'radio' && !checked) return false;\r\n\r\n\treturn { name, value };\r\n}).filter((item) => !!item.name);\r\n\r\nfunction saveItem({ name, value }) {\r\n\tlocalStorage.setItem(name, value);\r\n}\r\n\r\nconst getItem = name => localStorage.getItem(name);\r\n\r\nfunction saveData(data) {\r\n\tdata.forEach(item => {\r\n\t\tsaveItem(item);\r\n\t});\r\n}\r\n\r\nfunction setTheme() {\r\n\tconst html = document.querySelector('html');\r\n\r\n\tconst theme = getItem('theme') ?? 'light';\r\n\r\n\thtml.dataset.theme = theme;\r\n}\r\n\r\nfunction setData(e) {\r\n\te.preventDefault();\r\n\r\n\tconst data = serializeForm(e.target);\r\n\r\n\tsaveData(data);\r\n\r\n\tsetTheme();\r\n}\r\n\r\nfunction getData() {\r\n\tconst names = ['homepage', 'containerWidth', 'firstDay', 'companyTitle', 'indentSize', 'personalCode1', 'personalCode2', 'personalCode3', 'theme'];\r\n\r\n\treturn names.reduce((data, name) => {\r\n\t\tconst item = { name, value: getItem(name) };\r\n\r\n\t\tdata.push(item);\r\n\r\n\t\treturn data;\r\n\t}, []);\r\n}\r\n\r\nfunction fillForm(data) {\r\n\tdata.forEach(({ name, value }) => {\r\n\r\n\t\tconst item = name === 'theme' ? document.querySelector(`[value = ${value}]`) : document.querySelector(`[name = ${name}]`);\r\n\r\n\t\tif (item.type === 'radio') {\r\n\r\n\t\t\titem.checked = true;\r\n\t\t} else {\r\n\t\t\titem.value = value;\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction load() {\r\n\tconst data = getData();\r\n\r\n\tsetTheme();\r\n\tfillForm(data);\r\n}\r\n\r\n\r\nform.addEventListener('submit', setData);\r\ndocument.addEventListener('DOMContentLoaded', load);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//custom dropDown\r\nvar x, i, j, l, ll, selElmnt, a, b, c;\r\nx = document.getElementsByClassName(\"preferences__select\");\r\nl = x.length;\r\nfor (i = 0; i < l; i++) {\r\n\tselElmnt = x[i].getElementsByTagName(\"select\")[0];\r\n\tll = selElmnt.length;\r\n\ta = document.createElement(\"DIV\");\r\n\ta.setAttribute(\"class\", \"preferences__dropdown-btn\");\r\n\ta.innerHTML = selElmnt.options[selElmnt.selectedIndex].innerHTML;\r\n\tx[i].appendChild(a);\r\n\tb = document.createElement(\"DIV\");\r\n\tb.setAttribute(\"class\", \"preferences__dropdown-item hide\");\r\n\tfor (j = 1; j < ll; j++) {\r\n\t\tc = document.createElement(\"DIV\");\r\n\t\tc.innerHTML = selElmnt.options[j].innerHTML;\r\n\t\tc.addEventListener(\"click\", function (e) {\r\n\t\t\tvar y, i, k, s, h, sl, yl;\r\n\t\t\ts = this.parentNode.parentNode.getElementsByTagName(\"select\")[0];\r\n\t\t\tsl = s.length;\r\n\t\t\th = this.parentNode.previousSibling;\r\n\t\t\tfor (i = 0; i < sl; i++) {\r\n\t\t\t\tif (s.options[i].innerHTML == this.innerHTML) {\r\n\t\t\t\t\ts.selectedIndex = i;\r\n\t\t\t\t\th.innerHTML = this.innerHTML;\r\n\t\t\t\t\ty = this.parentNode.getElementsByClassName(\"same-as-selected\");\r\n\t\t\t\t\tyl = y.length;\r\n\t\t\t\t\tfor (k = 0; k < yl; k++) {\r\n\t\t\t\t\t\ty[k].removeAttribute(\"class\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.setAttribute(\"class\", \"same-as-selected\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\th.click();\r\n\t\t});\r\n\t\tb.appendChild(c);\r\n\t}\r\n\tx[i].appendChild(b);\r\n\ta.addEventListener(\"click\", function (e) {\r\n\t\te.stopPropagation();\r\n\t\tcloseAllSelect(this);\r\n\t\tthis.nextSibling.classList.toggle(\"hide\");\r\n\t\tthis.classList.toggle(\"select-arrow-active\");\r\n\t});\r\n}\r\n\r\nfunction closeAllSelect(elmnt) {\r\n\tvar x, y, i, xl, yl, arrNo = [];\r\n\tx = document.getElementsByClassName(\"preferences__dropdown-item\");\r\n\ty = document.getElementsByClassName(\"preferences__dropdown-btn\");\r\n\txl = x.length;\r\n\tyl = y.length;\r\n\tfor (i = 0; i < yl; i++) {\r\n\t\tif (elmnt == y[i]) {\r\n\t\t\tarrNo.push(i)\r\n\t\t} else {\r\n\t\t\ty[i].classList.remove(\"select-arrow-active\");\r\n\t\t}\r\n\t}\r\n\tfor (i = 0; i < xl; i++) {\r\n\t\tif (arrNo.indexOf(i)) {\r\n\t\t\tx[i].classList.add(\"hide\");\r\n\t\t}\r\n\t}\r\n}\r\n\r\ndocument.addEventListener(\"click\", closeAllSelect);"],"names":["x","i","j","l","ll","selElmnt","a","b","c","form","document","querySelector","getItem","name","localStorage","setTheme","html","theme","dataset","addEventListener","e","elements","preventDefault","target","Array","from","map","type","value","checked","filter","item","forEach","setItem","data","reduce","push","fillForm","getElementsByClassName","length","getElementsByTagName","createElement","setAttribute","innerHTML","options","selectedIndex","appendChild","y","k","s","h","sl","yl","this","parentNode","previousSibling","removeAttribute","click","stopPropagation","closeAllSelect","nextSibling","classList","toggle","elmnt","xl","arrNo","remove","indexOf","add"],"sourceRoot":""}